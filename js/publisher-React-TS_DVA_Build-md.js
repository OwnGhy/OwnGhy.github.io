(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[9],{

/***/ 46:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!--title: dva + typescriptå¼€å‘ç¯å¢ƒæ­å»º-->\n<!--date: 2019.02.28-->\n<!--cate: 1-->\n\n## åˆå§‹åŒ–é¡¹ç›®\nåˆ›å»ºé¡¹ç›®å¹¶è¿›å…¥é¡¹ç›®ä½¿ç”¨npmå‘½ä»¤åˆå§‹åŒ–ï¼š\n\n```bash\nmkdir dva-typescript && cd dva-typescript\nnpm init\n```\n<!-- more -->\nå®‰è£…typescript:\n\n```bash\nnpm i -D typescript\n```\nå®‰è£…ä¹‹åé¦–å…ˆè¯•ä¸€ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªtest.tsæ–‡ä»¶ï¼Œå†™å…¥ä¸€äº›æµ‹è¯•ä»£ç ï¼š\n\n```typescript\nlet num: number = 1;\nlet str: string = 'test string';\n\nconsole.log(num);\nconsole.log(str.split(''));\n```\nç„¶ååœ¨å‘½ä»¤è¡Œä¸­è¿›è¡Œç¼–è¯‘ï¼Œä¼šå‘ç°ç›®å½•ä¸‹ç”Ÿæˆäº†tsç¼–è¯‘ä¸ºjsä»£ç çš„jsæ–‡ä»¶ã€‚\n\n```bash\ntsc test.ts\n```\næµ‹è¯•æˆåŠŸä¹‹åè¿™ä¸ªæ–‡ä»¶å¯ä»¥åˆ é™¤å•¦ã€‚\n\nåˆ›å»ºtsconfig.jsonï¼š\n\n```bash\ntsc --init\n```\nä¸Šé¢å‘½ä»¤åˆ›å»ºçš„tsconfig.jsonæ˜¯é»˜è®¤çš„ï¼Œä¸‹é¢æ”¹æˆæˆ‘ä»¬éœ€è¦çš„å†…å®¹ï¼š\n\n```json\n{\n  // è®¾ç½®ç¼–è¯‘å™¨é€‰é¡¹\n  \"compilerOptions\": {\n    // æ”¯æŒjsxï¼Œå¹¶ä½¿ç”¨reactæ¨¡å¼\n    // reactæ¨¡å¼ä¼šç”ŸæˆReact.createElementï¼Œä½¿ç”¨å‰ä¸éœ€è½¬æ¢ï¼Œè¾“å‡º.jsæ–‡ä»¶\n    \"jsx\": \"react\",\n    // ç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦å¼•å…¥çš„åº“æ–‡ä»¶çš„åˆ—è¡¨\n    \"lib\": [\n      \"es6\",\n      \"dom\"\n    ],\n    // ä»…ç”¨æ¥æ§åˆ¶è¾“å‡ºçš„ç›®å½•ç»“æ„\n    \"rootDir\": \"src\",\n    // æŒ‡å®šç”Ÿæˆå“ªä¸ªæ¨¡å—ç³»ç»Ÿ\n    \"module\": \"commonjs\",\n    // æŒ‡å®šECMAScriptç›®æ ‡ç‰ˆæœ¬\n    \"target\": \"es6\",\n    // æ˜¯å¦ç”Ÿæˆç›¸åº”çš„.mapæ–‡ä»¶\n    \"sourceMap\": true,\n    // å†³å®šå¦‚ä½•å¤„ç†æ¨¡å—\n    \"moduleResolution\": \"node\",\n    // ä¸æ˜¯å‡½æ•°çš„æ‰€æœ‰è¿”å›è·¯å¾„éƒ½æœ‰è¿”å›å€¼æ—¶æŠ¥é”™\n    \"noImplicitReturns\": true,\n    // å½“ thisè¡¨è¾¾å¼çš„å€¼ä¸º anyç±»å‹çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªé”™è¯¯\n    \"noImplicitThis\": true,\n    // åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„ anyç±»å‹æ—¶æŠ¥é”™\n    \"noImplicitAny\": true,\n    // ä¸¥æ ¼çš„ nullæ£€æŸ¥æ¨¡å¼ä¸‹ï¼Œ nullå’Œ undefinedå€¼ä¸åŒ…å«åœ¨ä»»ä½•ç±»å‹é‡Œ\n    \"strictNullChecks\": true,\n    // å…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥\n    \"allowSyntheticDefaultImports\": true,\n    // å¯ç”¨å®éªŒæ€§çš„ESè£…é¥°å™¨\n    \"experimentalDecorators\": true\n  },\n  \"include\": [\n    \"./src\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n```\n\nå…³äºtsconfig.jsonçš„å…¨éƒ¨é…ç½®ç‚¹è¿™é‡ŒğŸ‘‰[tsconfig.json](https://www.tslang.cn/docs/handbook/tsconfig-json.html).\n\næ¥ä¸‹æ¥å®‰è£…reactçš„ç›¸å…³ä¾èµ–ï¼š\n\n```bash\nnpm i -D react react-dom @types/react @types/react-dom\n```\n> å…³äº@types/xxxçš„å®‰è£…\n> \n> @types æ”¯æŒå…¨å±€å’Œæ¨¡å—ç±»å‹å®šä¹‰\n> \n> npmä¸­çš„@typesåŒ…å¯¹å¤§éƒ¨åˆ†åº“æ”¯æŒï¼Œé€šè¿‡å®‰è£…@types/xxxåŒ…ä¸ºæŒ‡å®šåº“æ·»åŠ å£°æ˜æ–‡ä»¶ã€‚\n\nreactå®‰è£…æˆåŠŸä¹‹åï¼Œè¯•ä¸€ä¸‹ï¼Œsrc/routesæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºindex.tsxï¼Œå†™å…¥ï¼š\n\n```\nimport * as React from 'react';\n\nexport default class Index extends React.Component {\n    render() {\n        return <div>react</div>\n    }\n}\n```\n\n> tsxåç¼€æ˜¯tså¯¹jsxè¯­æ³•æ”¯æŒçš„æ–‡ä»¶åç¼€ã€‚\n\nç„¶ååœ¨å‘½ä»¤è¡Œä¸­å¯¹tsxæ–‡ä»¶ç¼–è¯‘ï¼š\n\n```bash\ntsc --jsx react src/routes/index.tsx\n```\nå¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„jsæ–‡ä»¶åˆ™åˆ›å»ºäº†React.createElementç­‰é€»è¾‘ã€‚\n\n## é…ç½®webpack\nå®‰è£…webpackåŠç›¸å…³åŒ…ï¼š\n\n```bash\nnpm i -D webpack webpack-cli webpack-dev-server\n```\nåˆ›å»ºwebpack.config.jsï¼Œå†™å…¥ï¼š\n\n```js\nconst path = require('path');\nconst HtmlPlugin = require('html-webpack-plugin');\n\nconst htmlPlugin = new HtmlPlugin({\n    title: 'Vue Starter',\n    filename: 'index.html',\n    template: 'index.html',\n    inject: 'body'\n});\n\nmodule.exports = {\n    mode: 'development',\n    entry: [\n        './src/index.tsx'\n    ],\n    output: {\n        path: path.resolve(__dirname, '/dist'),\n        filename: 'bundle.js'\n    },\n    devServer: {\n        port: 8080,\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.tsx?$/,\n                exclude: /node_modules/,\n                use: [\n                    {\n                        loader: 'babel-loader'\n                    },\n                    {\n                        loader: 'ts-loader',\n                    }\n                ]\n            },\n            {\n                test: /\\.css$/,\n                use: [\n                    {\n                        loader: 'style-loader'\n                    },\n                    {\n                        loader: 'css-loader',\n                    },\n                ]\n            },\n        ]\n    },\n    plugins: [\n        htmlPlugin\n    ],\n    resolve: {\n        extensions: ['*', '.js', '.jsx', '.ts', '.tsx']\n    },\n};\n```\nåœ¨webpackä¸­ï¼Œä¸ºäº†è¯†åˆ«tsxæ–‡ä»¶ï¼Œæˆ‘ä½¿ç”¨åˆ°äº†babel-loaderå’Œts-loaderï¼Œæ‰€ä»¥è¿›è¡Œå®‰è£…ï¼š\n\n```bash\nnpm i -D babel-loader@7.1.5 ts-loader\n```\n\nå®‰è£…æ ·å¼ç›¸å…³loaderï¼š\n\n```bash\nnpm i -D style-loader css-loader\n```\nå¦å¤–ä¸ºäº†é¿å¼€æ‰‹åŠ¨å†™å…¥bundle.jsç­‰é—®é¢˜ï¼Œå¼•å…¥äº†html-webpack-pulginåŒ…è¿›è¡Œè‡ªåŠ¨ç”Ÿæˆhtmlå¹¶æ’å…¥jsï¼Œå®‰è£…è¯¥æ’ä»¶ï¼š\n\n```bash\nnpm i -D html-webpack-plugin\n```\n\nå®‰è£…å…¶ä»–éœ€è¦çš„ç›¸å…³babelåŒ…ï¼š\n\n```bash\nnpm i -D babel-core babel-preset-es2015 babel-preset-react\n```\n\né…ç½®.babelrc\n\n```\n{\n  \"presets\": [\n    \"es2015\",\n    \"react\"\n  ]\n}\n```\n\nåœ¨package.jsonä¸­æ·»åŠ è„šæœ¬ï¼š\n\n```\n\"scripts\": {\n    \"start\": \"webpack-dev-server --progress --colors --hot --history-api-fallback --config ./webpack.config.js\",\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  }\n```\n\næ ¹ç›®å½•ä¸‹æ·»åŠ index.htmlä½œä¸ºæ¨¡ç‰ˆï¼š\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <title>React Webpack Babel Setup</title>\n</head>\n<body>\n<div id=\"root\"></div>\n</body>\n</html>\n```\n\nç„¶åè¿è¡Œnpm starté¡¹ç›®å°±å¯åŠ¨èµ·æ¥äº†ã€‚\n\n## é…ç½®dva\nå®‰è£…ä¾èµ–ï¼š\n\n```bash\nnpm i -D dva\n```\nç„¶ååœ¨æˆ‘ä»¬çš„å…¥å£æ–‡ä»¶ä¸­ä½¿ç”¨dvaï¼š\n\n```\nimport dva from 'dva';\nimport createHistory from 'history/createBrowserHistory';\n\nconst app = dva({\n    history: createHistory(),\n    onError: (e) => {\n        console.error(e.message);\n    }\n});\n\napp.router(require('./router').default);\n\napp.start(\"#root\");\n```\næ·»åŠ è·¯ç”±å…¥å£æ–‡ä»¶src/router.tsxï¼š\n\n```\nimport * as React from 'react';\nimport { Router, Route, Switch, Redirect } from 'dva/router';\nimport * as H from 'history';\nimport Index from './routes/Index';\n\nfunction RouterConfig({ history }: { history: H.History }): JSX.Element {\n    return (\n        <Router history={history}>\n            <Switch>\n                <Route path=\"/\" component={Index} />\n            </Switch>\n        </Router>\n    );\n}\n\nexport default RouterConfig;\n```\n\nåˆ°è¿™é‡Œä¸€ä¸ªåŸºæœ¬çš„dva + typescriptçš„å¼€å‘ç¯å¢ƒå°±é…ç½®å®Œå•¦ã€‚");

/***/ })

}]);
//# sourceMappingURL=publisher-React-TS_DVA_Build-md.js.map